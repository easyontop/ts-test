import { cpSync } from 'fs';
import { resolve } from 'path';
import { Application, JSX, RendererEvent } from 'typedoc';
import { Sonicware } from "./Sonicware";

export function load(app: Application) {
  app.renderer.hooks.on('body.begin', (_) => (
    <script>
      <JSX.Raw html="console.log('%cok'+'%c: Typedoc Loaded. TYPESCRIPT ON TOP', 'color:#00dd00;font-weight:bold;', 'color:black;')" />
    </script>
  ));
  app.listenTo(app.renderer, RendererEvent.END, () => {
    const from = resolve(__dirname, '../assets/snw.css');
    const to = resolve(app.options.getValue('out'), 'assets/snw.css');
    cpSync(from, to);
  });
  app.renderer.defineTheme('sonicware', Sonicware);
};